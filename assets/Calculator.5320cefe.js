import{_ as c,r as d,t as f,o as m,c as _,b as n,w as v,v as x,n as b,d as p,e as h,f as y}from"./app.a0d4b9da.js";import{S as r,p as $}from"./common.7fda1e23.js";const w={name:"Calculator",props:{value:{type:Object}},setup(){const t=d({options:{parenthesis:"auto",implicit:"hide"},input:{value:"x == (-b + sqrt(b^2 - 4 a c)) / 2 a",disabled:!1,error:!1,hint:""},output:{node:void 0,value:""}}),a=e=>{try{const o=$(e);return t.input.error=!1,t.input.hint="",o}catch(o){if(o instanceof SyntaxError){t.input.error=!0,t.input.hint=o.message;return}else throw o}};new r("x"),new r("y"),new r("e"),new r("f"),new r("X"),new r("Y");const i={x:e=>`x^{${e}}`,y:e=>`y^{${e}}`,e:e=>`\\mathbf{e}_{${e}}`,f:e=>`\\mathbf{f}_{${e}}`,X:(e,o)=>`X_{${o}}^{${e}}`,Y:(e,o)=>`Y_{${o}}^{${e}}`,C:(e,o,s)=>`C_{${e} ${o}}^{${s}}`};function l(e,o){if(e.type==="AccessorNode"&&e.object.type==="SymbolNode"){const s=i[e.object.name];if(s)return s(...e.index.dimensions)}}const u=()=>{t.output.node=a(t.input.value),t.output.node&&(t.output.value=t.output.node.toTex({parenthesis:t.options.parenthesis,implicit:t.options.implicit,handler:l}))};return{...f(t),onFormat:u}}},C={class:"flex flex-col justify-center my-4"},N={class:"flex flex-col"},S={class:"flex flex-row grow"},g=["disabled"],j={class:"text-sm p-1"},F={class:"flex flex-col"};function X(t,a,i,l,u,e){const o=y("formula");return m(),_("div",C,[n("div",N,[n("div",S,[v(n("textarea",{class:b(["txt w-full",{"txt-error":t.input.error}]),"onUpdate:modelValue":a[0]||(a[0]=s=>t.input.value=s),placeholder:"Enter expression."},null,2),[[x,t.input.value]]),n("button",{class:"btn btn-blue mx-2",onClick:a[1]||(a[1]=(...s)=>l.onFormat&&l.onFormat(...s)),disabled:t.input.disabled},"Format",8,g)]),n("div",j,p(t.input.hint),1)]),n("div",F,[n("pre",null,p(t.output.value),1),h(o,{value:t.output.value},null,8,["value"])])])}var B=c(w,[["render",X],["__scopeId","data-v-0d810b31"],["__file","Calculator.vue"]]);export{B as default};
